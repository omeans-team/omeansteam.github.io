<!doctype html>
<html lang="en">
    <head>
      <meta name="google-site-verification" content="flliSue9AwQckFdilGQV0b7QVydtNM3Sb9vnzSj705A" />
        <!-- Start Required meta tags -->
        <meta charset="utf-8">
        <!-- Responsive viewport meta tag -->
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <!-- End Required meta tags -->
      <link rel="icon" href="assets/images/omeans-icon/icon.gif" type="image/gif" sizes="16x16"> 

        <!-- Start CSS -->
        <!-- Bootstrap CSS -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
        <link rel="stylesheet" href="assets/css/ts.css">
        <link rel="stylesheet" href="assets/css/my-style.css">
        <link rel="stylesheet" href="assets/css/remove-scrollbar.css">
        <link rel="stylesheet" href="assets/css/bg-color.css">
        <link rel="stylesheet" href="assets/css/color.css">
        <link rel="stylesheet" href="assets/css/like-github.css">
        <link rel="stylesheet" href="assets/css/like-brackeys.css">
        <link rel="stylesheet" href="assets/css/other-important.css">
        <!-- End CSS -->

        <!-- Start JavaScript -->
        <!-- Optional JavaScript -->
        <!-- jQuery first, then Popper.js, then Bootstrap JS -->
        <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
        <script src="assets/js/btn-back-to-top.js"></script>
</script>
        <!-- End JavaScript -->
        
                <!-- Start Client Logo Carousel -->
        <!-- Start Client Logo Carousel -->
        <!-- Start Client Logo Carousel -->
        <!-- Client Logo Carousel Online -->
               <!-- Slick Slider CSS -->
        <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css"/>
        
        <!-- Slick Slider JS -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.9.0/slick.min.js"></script>
        
        <!-- Client Logo Carousel Offline -->
        <link rel="stylesheet" type="text/css" href="assets/css/slick-slider.css"/>        
        <!-- End Client Logo Carousel -->
        <!-- End Client Logo Carousel -->
        <!-- End Client Logo Carousel -->

        <title>ARIS HADISOPIYAN</title>

    </head>
    <style>
        /* .scroll-container {
            height: 100vh;
            background: black;
        } */
        @media (min-width: 1200px) {
          .show-prefab .container {
    max-width: 100% !important;
    padding: 0px !important;
  }
}
@media (min-width: 992px) {
  .show-prefab .container {
    max-width: 100% !important;
    padding: 0px !important;
  }
}
@media (min-width: 768px) {
  .show-prefab .container {
    max-width: 100% !important;
    padding: 0px !important;
  }
}
@media (min-width: 576px) {
  .show-prefab .container {
    max-width: 100% !important;
    padding: 0px !important;
  }
}
        .show-prefab .container{
    max-width: 100% !important;
    padding: 0px !important;
        }
        .speak {
            margin: 150vh 0;
    
            &:first-child {
                margin-top: -50vh;
            }
        }
    
        .speak[data-scroll] {
            /* // transition: opacity .3s; */
            transform: translatey(calc(var(--viewport-y) * 30vh));
            opacity: calc(var(--visible-y));
    
        }
    
        .scroll-sequence__content {
            padding: 4em;
        }
    
        .scroll-sequence {
            position: sticky;
            top: 0;
            bottom: 0;
            left: 0;
            right: 0;
            z-index: 5;
            height: 100vh;
            background-position: center;
            background-size: cover;
            background-repeat: no-repeat;
        }
    
        h1 {
            font-size: 3em;
            width: 60wv;
            margin-bottom: 10px;
    
            @media screen and (max-width: 600px) {
                font-size: 2em;
                width: 100%;
            }
        }
    
        :root {
            font-size: 20px;
            font-family: 'Open Sans', sans-serif;
            color: white;
            text-shadow: 0 0 12px rgba(black, .8);
        }
    
        body {
            margin: 0;
        }
    
        * {
            box-sizing: border-box;
        }
    </style>
    <body class="logged-out env-production page-responsive header-overlay" style="word-wrap: break-word;">
        
        <!-- Back To Top Image -->
        <!-- Back To Top Image -->
        <img src="assets/images/svg/arrow-up-circle-fill-omeans-6-color.svg" onclick="topFunction()" id="myBtn" class="rounded-circle change-img">
        <!-- Back To Top Icon -->
        <!-- <i onclick="topFunction()" id="myBtn" class="bi bi-arrow-up-circle-fill"></i> -->
        <!-- Back To Top Font -->
        <!-- <a onclick="topFunction()" id="myBtn">Top</a> -->
        

        
        
         <!-- Navigation + div container class-->
         <nav class="navbar navbar-expand-lg navbar-light bg-brack position-relative top-0 c-w f16" style="width: 100%;">
            <div class="container">
            <!-- Home Link -->
            <a class="prof" href="#">
              <img src="assets/images/logo.webp" height="30px"></a>
            <!-- Button Toggler For Collapse -->
            <button class="navbar-toggler bg-white" type="button" data-toggle="collapse" data-target="#Navigation-div-container-class" aria-controls="Navigation-div-container-class" aria-expanded="false" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
            </button>
          
            <!-- Collapse -->
            <div class="collapse navbar-collapse" id="Navigation-div-container-class">
                <!-- Menu Link -->
              <ul class="navbar-nav mr-auto">
                <!-- Link -->
                <li class="nav-item">
                  <a class="nav-link" href="3Dviewer.html" target="_blank">3D Model</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="portfolio-gallery-filter.html" target="_blank">Gallery</a>
                </li>
                <!-- Dropdown -->
                <li class="nav-item dropdown">
                  <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Game
                  </a>
                  <!-- Dropdown Menu -->
                  <div class="dropdown-menu c-3" aria-labelledby="navbarDropdown">
                    <a class="dropdown-item" href="#">Suanggi Survival Papua</a>
                    <a class="dropdown-item" href="#">Another action</a>
                    <div class="dropdown-divider"></div>
                    <a class="dropdown-item" href="https://www.youtube.com/channel/UCc-wxj8LR7n83Y_-6fGwnKA" target="_blank">Gameplay</a>
                  </div>
                </li>
                
                <!-- Dropdown -->
                <li class="nav-item dropdown">
                  <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Project
                  </a>
                  <!-- Dropdown Menu -->
                  <div class="dropdown-menu c-3" aria-labelledby="navbarDropdown">
                    <a class="dropdown-item" href="https://bit.ly/30jlGgw" target="_blank" title="Size: 744 MB">Download Game Suanggi Survival Papua</a>
                    <a class="dropdown-item" href="https://jurnal.unej.ac.id/index.php/INFORMAL/article/view/21235" target="_blank">Jurnal Suanggi Survival Papua</a>
                    <a class="dropdown-item" href="Aplikasi_Sistem_Informasi_Klinik" target="_blank">Aplikasi Sistem Informasi Klinik</a>
                    <div class="dropdown-divider"></div>
                    <a class="dropdown-item" href="https://www.youtube.com/channel/UCc-wxj8LR7n83Y_-6fGwnKA" target="_blank">Gameplay</a>
                  </div>
                </li>

                <li class="nav-item">
                  <a class="nav-link" href="https://arishadisopiyan.github.io/portfolio.html" target="_blank">Other Portfolio</a>
                </li>
              </ul>
              <!-- Form Search -->
              <form class="form-inline my-2 my-lg-0">
                <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
                <button class="btn btn-outline-ahst my-2 my-sm-0" type="submit">Search</button>
              </form>
            </div>
          </div>
        </nav>
       

        <div class="show-prefab">
          <div class="container scroll-container">
            <section class="scroll-sequence__container apple-container">
                <div class="scroll-sequence apple-sequence"></div>
                <div class="scroll-sequence__content">
                    <div class="speak">
                        <h1>Scroll Sequence</h1>
                        <p>Just start scrolling</p>
                    </div>
                    <div class="speak">
                        <h1>This is Apple's image sequence</h1>
                        <p>All copyrights to them. Please don't sue me!</p>
                    </div>
                    <div class="speak">
                        <h1>The Text Animation</h1>
                        <p>Is created with Scroll-out.js. Go check it out!</p>
                    </div>
                </div>
            </section>
        </div>
        </div>


        <!-- Start Style Github Top -->
        <!-- Start Style Github Top -->
        <!-- Start Style Github Top -->
        <div class="bg-brackeys position-relative">

         
      
              <!-- Start Client Logo Carousel -->
        <!-- Start Client Logo Carousel -->
        <!-- Start Client Logo Carousel -->
        <!-- <div id="carouselExample1" class="carousel slide z-depth-1-half" data-ride="carousel">
          <div class="carousel-inner">
            <div class="carousel-item active">
              <img class="d-block w-100" src="assets/images/slide/black.png" alt="First slide">
            </div>
            <div class="carousel-item">
              <img class="d-block w-100" src="assets/images/slide/red.png" alt="Second slide">
            </div>
            <div class="carousel-item">
              <img class="d-block w-100" src="assets/images/slide/green.png" alt="Third slide">
            </div>
            <div class="carousel-item">
              <img class="d-block w-100" src="assets/images/slide/blue.png" alt="Third slide">
            </div>
            <div class="carousel-item">
              <img class="d-block w-100" src="assets/images/slide/white.png" alt="Third slide">
            </div>
          </div>
          <a class="carousel-control-prev" href="#carouselExample1" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
          </a>
          <a class="carousel-control-next" href="#carouselExample1" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
          </a>
        </div> -->
      <!-- End Client Logo Carousel -->
      <!-- End Client Logo Carousel -->
      <!-- End Client Logo Carousel -->

          <!-- <div class="position-relativez-1 pdt-10 bg-brackeys">
            <div class="container">
              <div class="py-4" style="border-top: 1px solid rgba(255,255,255,0.3)">
            <div class="row text-center color-text-white">
            <div class="col-sm-3 pdb-10">
                    <h2 class="f20 lh28 text-mono text-normal no-wrap">65<span class="text-white-fade">+</span> million</h2>
                    <h2 class="f20 lh28 text-mono text-normal no-wrap" hidden="">65+ million</h2>
                    <p class="text-mono text-white-fade f12">Developers</p>
            </div>
            <div class="col-sm-3 pdb-10">
                    <h2 class="f20 lh28 text-mono text-normal no-wrap">3<span class="text-white-fade">+</span> million</h2>
                    <h2 class="f20 lh28 text-mono text-normal no-wrap" hidden="">3+ million</h2>
                    <p class="text-mono text-white-fade f12">Organizations</p>
            </div>
            <div class="col-sm-3  pdb-10">
                    <h2 class="f20 lh28 text-mono text-normal no-wrap">200<span class="text-white-fade">+</span> million</h2>
                    <h2 class="f20 lh28 text-mono text-normal no-wrap" hidden="">200+ million</h2>
                    <p class="text-mono text-white-fade f12">Repositories</p>
            </div>
            <div class="col-sm-3  pdb-10">
                    <h3 class="f20 lh28 text-mono text-normal no-wrap">72%</h3>
                    <p class="text-mono text-white-fade f12">Fortune 50</p>
            </div>
          </div></div>
        </div>
          </div> 
          <svg class="position-absolute width-full z-1" xmlns="http://www.w3.org/2000/svg" fill="none" preserveAspectRatio="none" viewBox="0 0 1680 40" style="bottom: -1px;">
              <path d="M0 40h1680V30S1340 0 840 0 0 30 0 30z" fill="#fff"></path>
          </svg>
      </div> -->

      <!-- End Style Github Top -->
      <!-- End Style Github Top -->
      <!-- End Style Github Top -->
        


              <!-- Start Client Logo Carousel -->
        <!-- Start Client Logo Carousel -->
        <!-- Start Client Logo Carousel -->
        <!-- <div class="slider-logo">
          <div class="container mrg-t32">
          <h2 class="text-center fw-bold">OUR TOOLS</h2>
          <section class="logo-carousel slider mrg-t32" data-arrows="true">
              <div class="slide"><img src="assets/images/tools/adobe-premiere-pro-icon.webp"></div>
              <div class="slide"><img src="assets/images/tools/Adobe_Illustrator_icon.webp"></div>
              <div class="slide"><img src="assets/images/tools/Adobe_Photoshop_CC_icon.webp"></div>
              <div class="slide"><img src="assets/images/tools/Adobe_XD_CC_icon.webp"></div>
              <div class="slide"><img src="assets/images/tools/Blender_icon.webp"></div>
              <div class="slide"><img src="assets/images/tools/Corel_icon.webp"></div>
              <div class="slide"><img src="assets/images/tools/Maya_icon.webp"></div>
              <div class="slide"><img src="assets/images/tools/Sketchup_icon.webp"></div>
              <div class="slide"><img src="assets/images/tools/Unity_icon.webp"></div>
            </section>
          </div>
      </div> -->
      <!-- End Client Logo Carousel -->
      <!-- End Client Logo Carousel -->
      <!-- End Client Logo Carousel -->



      

        <!-- Navigation no brand (nav-only) + center -->
        <nav class="navbar navbar-expand-lg navbar-light bg-white sticky-top f16 lh24 text-mono header-limiter">
            
          <!-- Button Toggler For Collapse -->
          <button class="navbar-toggler bg-ws" type="button" data-toggle="collapse" data-target="#nav-only-center" aria-controls="nav-only-center" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
        
          <!-- Collapse -->
          <div class="collapse navbar-collapse justify-content-md-center" id="nav-only-center">
              <!-- Menu Link -->
            <ul class="navbar-nav">
              <!-- Link -->
              <li class="nav-item active">
                <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">Link</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#academy">Academy</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#about">About</a>
              </li>
            </ul>
            </div>
      </nav>
      <div class="position-relative">
        <div class="pdt-10 bg-brackeys">

        </div>
      </div>
        
        <!-- Start Style Github Bottom -->
        <!-- Start Style Github Bottom -->
        <!-- Start Style Github Bottom -->
        <div class="position-relative pt-5 mt-5">
          <div class="overflow-hidden">
              <div id="home-automate" class="overflow-hidden js-section"></div>
              <div id="home-secure" class="position-relative z-1 mx-auto box-shadow-default-mktg wide-block pdt-10 pt-5 pt-md-0 overflow-hidden js-section"></div>
              <div id="home-community" class="container-xl p-responsive mx-auto js-section"></div>
              <div class="bg-color-brackeys pb-11 pb-md-12 position-relative">
                <svg class="position-absolute top-0 width-full mt-n1" xmlns="http://www.w3.org/2000/svg" fill="none" preserveAspectRatio="none" viewBox="0 0 1680 40" style="transform: scaleY(-1);">
                  <path d="M0 40h1680V30S1340 0 840 0 0 30 0 30z" fill="#fff"></path>
                </svg>
              </div>
            </div>
          </div>
          <div class="bg-brackeys" style="height: 680px;">
          </div>
          <!-- End Style Github Bottom -->
          <!-- End Style Github Bottom -->
          <!-- End Style Github Bottom -->

      
      <!-- <div class="cr bg-brackeys text-center z-1">
          Copyright 2016-<script type="text/javascript">document.write(new Date().getFullYear());</script>
          by 
          <a href="https://arishadisopiyan.github.io/" target="_blank">Omeans</a>
      </div> -->






        <!-- Start Client Logo Carousel -->
        <!-- Start Client Logo Carousel -->
        <!-- Start Client Logo Carousel -->
        <!-- Agar ukuran logo kecil dan slide jalan -->
        <script src="assets/js/slick-slider.js"></script>
        <!-- End Client Logo Carousel -->
        <!-- End Client Logo Carousel -->
        <!-- End Client Logo Carousel -->
        <!-- Back To Top Image -->
        <script>
          //Get the button
          var mybutton = document.getElementById("myBtn");
          
          // When the user scrolls down 20px from the top of the document, show the button
          window.onscroll = function() {scrollFunction()};
          
          function scrollFunction() {
            if (document.body.scrollTop > 926 || document.documentElement.scrollTop > 926) {
              mybutton.style.display = "block";
            } else {
              mybutton.style.display = "none";
            }
          }
            
          // When the user clicks on the button, scroll to the top of the document
          function topFunction() {
            document.body.scrollTop = 0;
            document.documentElement.scrollTop = 0;
          }
        
        </script>
        <!-- Back To Top Image -->

    </body>
</html>
<script>
    const appleSequenceImages = [];
// const treeSequenceImages = [];

// for (let i = 0; i <= 131; i ++) {
//   appleSequenceImages.push(`${`000${i}`.slice(-4)}.jpg`);
// }
for (let i = 0; i <= 80; i ++) {
    if(i < 10){
  appleSequenceImages.push(`ProtohomesAssembling${`0${i}`.slice(-4)}.jpg`);

    }else{

        appleSequenceImages.push(`ProtohomesAssembling${`${i}`.slice(-4)}.jpg`);
    }
}
// for (let i = 0; i <= 98; i ++) {
//   treeSequenceImages.push(`${`000${i}`.slice(-3)}.jpg`);
// }

const requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame;

class EventEmitter {
  listeners = {}
  addListener(eventName, fn) {
    this.listeners[eventName] = this.listeners[eventName] || [];
    this.listeners[eventName].push(fn);
    return this;
  }
  on(eventName, fn) {
    return this.addListener(eventName, fn);
  }
  once(eventName, fn) {
    this.listeners[eventName] = this.listeners[eventName] || [];
    const onceWrapper = () => {
      fn();
      this.off(eventName, onceWrapper);
    }
    this.listeners[eventName].push(onceWrapper);
    return this;
  }
  off(eventName, fn) {
    return this.removeListener(eventName, fn);
  }
  removeListener (eventName, fn) {
    let lis = this.listeners[eventName];
    if (!lis) return this;
    for(let i = lis.length; i > 0; i--) {
      if (lis[i] === fn) {
        lis.splice(i,1);
        break;
      }
    }
    return this;
  }
  emit(eventName, ...args) {
    let fns = this.listeners[eventName];
    if (!fns) return false;
    fns.forEach((f) => {
      f(...args);
    });
    return true;
  }
  listenerCount(eventName) {
    let fns = this.listeners[eventName] || [];
    return fns.length;
  }
  rawListeners(eventName) {
    return this.listeners[eventName];
  }
}
class Canvas {
  constructor(e) {
    this.images = e.images;
    this.container = e.container;
    this.cover = e.cover;
    this.displayIndex = 0;
  }
  
  setup() {
    this.canvas = document.createElement("canvas");
    this.container.appendChild(this.canvas);
    this.ctx = this.canvas.getContext('2d')
    
    window.addEventListener('resize', () => this.resize());
    this.resize();
  }
  
  renderIndex(e) {
    if (this.images[e]) {
        return this.drawImage(e);
    }
    // Find closest loaded image
    for (var t = Number.MAX_SAFE_INTEGER, r = e; r >= 0; r--)
        if (this.images[r]) {
            t = r;
            break
        }
    for (var n = Number.MAX_SAFE_INTEGER, i = e, o = this.images.length; i < o; i++)
        if (this.images[i]) {
            n = i;
            break
        }
    this.images[t] ? this.drawImage(t) : this.images[n] && this.drawImage(n)
  }
  
  drawImage(e) {
    this.displayIndex = e,
    this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);
    const x = Math.floor((this.canvas.width - this.images[this.displayIndex].naturalWidth) / 2);
    const y = Math.floor((this.canvas.height - this.images[this.displayIndex].naturalHeight) / 2);
    if (this.cover) {
      
      this.drawImageCover(this.ctx, this.images[this.displayIndex]);
    } else {
      this.ctx.drawImage(this.images[this.displayIndex], x, y);
    }
  }
  
  resize() {
    const w = this.container.clientWidth;
    const h = this.container.clientHeight;
    this.canvas.style.height = `${h}px`;
    this.canvas.style.width = `${w}px`;
    this.canvas.height = h;
    this.canvas.width = w;
    
    this.renderIndex(this.displayIndex);
  }
  
  /**
 * By Ken Fyrstenberg Nilsen
 *
 * drawImageProp(context, image [, x, y, width, height [,offsetX, offsetY]])
 *
 * If image and context are only arguments rectangle will equal canvas
*/
  drawImageCover(ctx, img, x, y, w, h, offsetX, offsetY) {

      if (arguments.length === 2) {
          x = y = 0;
          w = ctx.canvas.width;
          h = ctx.canvas.height;
      }

      // default offset is center
      offsetX = typeof offsetX === "number" ? offsetX : 0.5;
      offsetY = typeof offsetY === "number" ? offsetY : 0.5;

      // keep bounds [0.0, 1.0]
      if (offsetX < 0) offsetX = 0;
      if (offsetY < 0) offsetY = 0;
      if (offsetX > 1) offsetX = 1;
      if (offsetY > 1) offsetY = 1;

      var iw = img.width,
          ih = img.height,
          r = Math.min(w / iw, h / ih),
          nw = iw * r,   // new prop. width
          nh = ih * r,   // new prop. height
          cx, cy, cw, ch, ar = 1;

      // decide which gap to fill    
      if (nw < w) ar = w / nw;                             
      if (Math.abs(ar - 1) < 1e-14 && nh < h) ar = h / nh;  // updated
      nw *= ar;
      nh *= ar;

      // calc source rectangle
      cw = iw / (nw / w);
      ch = ih / (nh / h);

      cx = (iw - cw) * offsetX;
      cy = (ih - ch) * offsetY;

      // make sure source rectangle is valid
      if (cx < 0) cx = 0;
      if (cy < 0) cy = 0;
      if (cw > iw) cw = iw;
      if (ch > ih) ch = ih;

      // fill image in dest. rectangle
      ctx.drawImage(img, cx, cy, cw, ch,  x, y, w, h);
  }
}
class ImgLoader extends EventEmitter {
  constructor(opts) {
    super();
    this.images = opts.imgsRef;
    this.imageNames = opts.images;
    this.imagesRoot = opts.imagesRoot;
    this.sequenceLength = opts.images.length;
    this.priorityFranes = opts.priorityFrames;
    this.complete = false;
    this.loadIndex = 0;
    
    this.priorityQueue = this.createPriorityQueue();
    this.loadingQueue = this.createLoadingQueue();
    
    this.loadNextImage();
  }
  
  loadImage(e) {
    if (this.images[e]) {
      return this.loadNextImage();
    }
    const onLoad = () => {
      img.removeEventListener('load', onLoad);
      this.images[e] = img;
      
      if (e === 0) {
        this.emit('FIRST_IMAGE_LOADED');
      }
      this.loadNextImage();
    }
    const img = new Image;
    img.addEventListener('load', onLoad);
    img.src = (this.imagesRoot ? this.imagesRoot : '') + this.imageNames[e];
  }
  
  loadNextImage() {
    if (this.priorityQueue.length) {
      this.loadImage(this.priorityQueue.shift());
      if (!this.priorityQueue.length) {
        this.emit('PRIORITY_IMAGES_LOADED');
      }
    } else if (this.loadingQueue.length) {
        this.loadImage(this.loadingQueue.shift())
    } else {
      this.complete = true;
      this.emit('IMAGES_LOADED');
    }
  }
  
  createPriorityQueue() {
    const p = this.priorityFrames || [];
    if (!p.length) {
      p.push(0);
      p.push(Math.round(this.sequenceLength / 2));
      p.push(this.sequenceLength - 1);
    }
    return p;
  }
  
  createLoadingQueue() {
    return this.imageNames.map((s, i) => i).sort((e, n) => {
       return Math.abs(e - this.sequenceLength / 2) - Math.abs(n - this.sequenceLength / 2)
    });
  }
}
class ScrollSequence {
  constructor(opts) {
    this.opts = {
      container: 'body',
      starts: 'out',
      ends: 'out',
      imagesRoot: '',
      cover: false,
      ...opts
    }
    this.container = typeof opts.container === 'object' ? 
      opts.container : 
      document.querySelector(opts.container);
    
    this.scrollWith = !opts.scrollWith ? 
      this.container : 
      typeof opts.scrollWith === 'object' ? 
        opts.scrollWith : 
        document.querySelector(opts.scrollWith);
    
    this.images = Array(opts.images.length);
    this.imagesToLoad = opts.images;
    this.priorityFrames = opts.priorityFrames;
    
    this.loader = new ImgLoader({
      imgsRef: this.images,
      images: this.imagesToLoad,
      imagesRoot: this.opts.imagesRoot,
      priorityFrames: this.priorityFrames
    });
    
    this.canvas = new Canvas({
      container: this.container,
      images: this.images,
      cover: this.opts.cover
    });
    
    this.init();
  }
  
  init() {
    this.canvas.setup();
    this.loader.once('FIRST_IMAGE_LOADED', () => {
      this.canvas.renderIndex(0);
    })
    this.loader.once('PRIORITY_IMAGES_LOADED', () => {
      window.addEventListener('scroll', () => this.changeOnWindowScroll());
    })
    this.loader.once('IMAGES_LOADED', () => {
      console.log('Sequence Loaded');
    })
  }
  
  changeOnWindowScroll() {
    const step = 100 / (this.images.length - 1);
    const mapToIndex = Math.floor(this.percentScrolled / step);
    requestAnimationFrame(() => this.canvas.renderIndex(mapToIndex));
  }
  
  get percentScrolled() {
    const {starts, ends} = this.opts;
    const el = this.scrollWith;
    const doc = document.documentElement;
    const clientOffsety = doc.scrollTop || window.pageYOffset;
    const elementHeight = el.clientHeight || el.offsetHeight;
    const clientHeight = doc.clientHeight;
    let target = el;
    let offsetY = 0;
    do {
        offsetY += target.offsetTop;
        target = target.offsetParent;
    } while (target && target !== window);
    
    let u = (clientOffsety - offsetY);
    let d = (elementHeight + clientHeight)
    
    if (starts === 'out') u += clientHeight;
    if (ends === 'in') d -= clientHeight;
    if (starts == 'in') d -= clientHeight;
    // start: out, ends: out
    // const value = ((clientOffsety + clientHeight) - offsetY) / (clientHeight + elementHeight) * 100;
    
    //start: in, ends: out
    // const value = (clientOffsety - offsetY) / (elementHeight) * 100;
    
    //start: out, ends: in
    // const value = ((clientOffsety + clientHeight) - offsetY) / (elementHeight) * 100;
    
    // Start: in, ends: in
    // (clientOffsety - offsetY) / (elementHeight - clientHeight)
    
    const value = u / d * 100;
    return value > 100 ? 100 : value < 0 ? 0 : value;
  }
}

const appleSequence = new ScrollSequence({
  container: '.apple-sequence',
  scrollWith: '.apple-container',
  images: appleSequenceImages,
  imagesRoot: 'image/img/',
//   imagesRoot: 'https://www.apple.com/105/media/us/airpods-pro/2019/1299e2f5_9206_4470_b28e_08307a42f19b/anim/sequence/large/02-head-bob-turn/',
  priorityFrames: [0, 20, 40, 60, 90],
  cover: true,
  playUntil: 'scroll-out',
  starts: 'in'
});

// const treeSequence = new ScrollSequence({
//   container: '.tree-sequence',
//   scrollWith: '.tree-container',
//   images: treeSequenceImages,
//   imagesRoot: 'https://jacobbelanger.com/assets/sequence/',
//   priorityFrames: [0, 20, 40, 60, 90],
//   cover: true,
//   starts: 'out',
//   ends: 'in'
// });

// END SCROLL_SEQUENCE CODE

ScrollOut({
  targets: '.speak',
  cssProps: {
    viewportY: true,
    visibleY: true
  }
});
</script>